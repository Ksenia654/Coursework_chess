# Компьютерная 2D игра в шахматы
## Шавейко Ксения Викторовна 353504
Проект представляет собой многопользовательскую веб-игру в шахматы на локальном сервере.Для разработки используется JavaScript, HTML, CSS.
В игре есть возможность выбрать один из двух режимов **1) Против компьютера 2) Против человека**
Для реализации игры в режиме **против компьютера** создаётся отдельный класс,который выполняет роль соперника для игрока в шахматной игре. Он анализирует текущую игровую ситуацию, оценивает возможные ходы и выбирает наилучший ход, основываясь на алгоритмах. Вот его основные функции:
- **Оценка позиции**:
  Анализирует игровую доску и оценивает её состояние. Для этого используются:
  1) Значения фигур: каждая фигура имеет определённую ценность (например, пешка = 1, ферзь = 9, король = бесконечность).
  2) Позиционные преимущества: например, контроль центра доски или угроза фигурам противника.
- **Прогнозирование ходов (Минимакс-алгоритм)**:
  Используется алгоритм Минимакс, чтобы определить лучший ход:
  1) Рассчёт глубины игры: просчитываются все возможные ходы на несколько шагов вперёд (обычно 2–3 хода в глубину).
  2) Оценка вариантов: Каждый ход оценивается, основываясь на следующих параметрах:
     Угроза королю (например, шах)
     Потери/выгода от разменов фигур.
     Возможность мата в будущем.
  3) Выбор наилучшего хода: выбирается ход, который минимизирует риски и увеличивает давление на противника.
- **Использование симуляций**:
  Отдельный класс используется для "проверки" каждого возможного хода.Компьютер применяет ходы в симуляции, чтобы понять их последствия, не изменяя реальное игровое состояние.
  Пример:
  Компьютер анализирует ход e2-e4 в симуляции и смотрит, какие угрозы он создаёт для противника.Затем оценивает альтернативные ходы, чтобы выбрать оптимальный.
Для реализации игры в режиме **против человека** требуется подключение через WebSocket-сервер.Для этого нужно установить библиотеку ws.
Основой является взаимодействие между клиентами (игроками) и сервером (WebSocketServer), который передаёт данные, такие как ходы, между подключёнными игроками.
- **Компоненты многопользовательского режима**:
  1) Клиентская часть:
     Клиенты (например, браузеры) взаимодействуют с сервером через WebSocket.
     Основная задача клиента — отобразить доску, принять ходы от игрока и отправить их на сервер.
     На стороне клиента важно:
     Установить соединение с сервером через WebSocket.
     Отправлять сообщения о ходе.
     Принимать входящие сообщения, обновлять доску и другие данные.
  3) Серверная часть:
     Сервер (WebSocketServer) обрабатывает подключение игроков и передаёт данные между ними.
- **Поддержка игрового процесса**:
  Взаимодействие между клиентом и сервером реализует саму игру:
  1) Обмен данными о ходе:
     Игрок делает ход, и клиент отправляет сообщение серверу.
     Сервер пересылает ход другому игроку через broadcast().
  2) Обновление состояния игры:
     Сервер отслеживает ходы и синхронизирует изменения с клиентами.
- **Игровая логика**:
  1) Хранение состояния игры (история ходов, позиции фигур).
  2) Проверка допустимых ходов для каждой фигуры.
  3) Распознавание специальных правил, таких как рокировка, взятие на проходе и промоция пешки.
  4) Объявление шаховых ситуаций.
- **Интерфейс и взаимодействие**:
  1) Отображение интерактивной шахматной доски с фигурами.
  2) Взаимодействие с фигурами через клики или перетаскивание (drag-and-drop).
  3) Визуальная подсветка возможных ходов, последнего хода соперника и выбранной фигуры.
  4) Анимация поворота доски.
  5) Интерактивный выбор параметров игры (человек или ИИ, выбор цвета шахмат(белый или чёрный)).

